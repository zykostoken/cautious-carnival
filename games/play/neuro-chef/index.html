<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neuro-Chef | EvaluaciÃ³n Cognitiva HDD</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header con mÃ©tricas en tiempo real -->
    <header id="game-header">
        <div class="header-left">
            <h1>ðŸ§  Neuro-Chef</h1>
            <p id="patient-display">Paciente: Cargando...</p>
        </div>
        <div class="header-metrics">
            <div class="metric">
                <span class="metric-label">Nivel</span>
                <span class="metric-value" id="current-level">1/6</span>
            </div>
            <div class="metric">
                <span class="metric-label">Aciertos</span>
                <span class="metric-value" id="correct-count">0</span>
            </div>
            <div class="metric">
                <span class="metric-label">Errores</span>
                <span class="metric-value" id="error-count">0</span>
            </div>
            <div class="metric">
                <span class="metric-label">Tiempo</span>
                <span class="metric-value" id="timer-display">00:00</span>
            </div>
        </div>
    </header>

    <!-- Contenedor principal del juego -->
    <main id="game-container" class="hidden">
        <!-- Instrucciones del nivel actual -->
        <div id="level-instructions" class="instructions-panel">
            <h2 id="level-title">Nivel 1: Supermercado</h2>
            <p id="level-description">ElegÃ­ los ingredientes para hacer un <strong>Pastel de Papas</strong></p>
        </div>

        <!-- Ãrea de juego (cambia segÃºn nivel) -->
        <div id="game-area">
            <!-- Se carga dinÃ¡micamente segÃºn nivel -->
        </div>

        <!-- Botones de control -->
        <div id="controls">
            <button id="btn-verify" class="btn-primary">Verificar</button>
            <button id="btn-next" class="btn-secondary hidden">Siguiente Nivel</button>
        </div>
    </main>

    <!-- Modal de consejos educativos post-nivel -->
    <div id="educational-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âœ… Â¡Nivel Completado!</h2>
                <p id="level-score">Puntaje: <span id="score-value">0</span>/100</p>
            </div>
            <div class="modal-body" id="educational-content">
                <!-- Contenido educativo dinÃ¡mico -->
            </div>
            <div class="modal-footer">
                <button id="btn-continue" class="btn-primary">Continuar</button>
            </div>
        </div>
    </div>

    <!-- Modal PRE-juego (preguntas Ã¡nimo) -->
    <div id="pre-game-modal" class="modal-overlay">
        <div class="modal-content compact">
            <div class="modal-header">
                <h2>Antes de empezar</h2>
                <p style="font-size: 0.9rem; color: var(--text-muted);">Opcional</p>
            </div>
            <div class="modal-body">
                <div class="question-group">
                    <label>Â¿CÃ³mo estÃ¡s?</label>
                    <input type="text" id="q1" placeholder="">
                </div>
                <div class="question-group">
                    <label>Â¿QuÃ© comiste?</label>
                    <input type="text" id="q2" placeholder="">
                </div>
                <div class="question-group">
                    <label>Â¿CÃ³mo dormiste?</label>
                    <input type="text" id="q3" placeholder="">
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-skip-pre" class="btn-text">Omitir</button>
            </div>
        </div>
    </div>

    <!-- Modal POST-juego (selector de color neutral) -->
    <div id="post-game-modal" class="modal-overlay hidden">
        <div class="modal-content compact">
            <div class="modal-header">
                <h2>Â¿CÃ³mo te sentÃ­s ahora?</h2>
            </div>
            <div class="modal-body">
                <div id="color-selector" class="color-selector">
                    <div class="color-grid" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px;">
                        <!-- 12 colores fijos sin condicionamiento -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js"></script>
    <script src="js/levels.js"></script>
    <script src="js/educational-tips.js"></script>
    <script src="js/game.js"></script>
</body>
</html>
